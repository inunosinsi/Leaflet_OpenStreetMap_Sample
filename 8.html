<!DOCTYPE html>
<html>
<head>
<title>Leaflet + OpenStreetMap</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
</head>
<body>
<div id="map" style="width:400px;height:300px;"></div>
</body>
<script>
let lat = 35.02522;
let lng = 135.76196;
let zoom = 15;

let map = L.map('map', {
	center: [lat,lng],
	zoom: zoom,
});

//オープンストリートマップ（OSM）の地図タイルを読み込むための設定。クレジット付き 
let tileLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
	attribution: '© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>',
});
tileLayer.addTo(map);

let features = [
	{
		"type" : "Feature",
		"properties" : {
			"name" : "京都御苑",
			"url" : "https://www.openstreetmap.org/#map=17/"+lat+"/"+lng
		},
		"geometry" :  {
			"type": "Point",
			"coordinates" : [lng, lat]	//注意：緯度経度の渡し方が逆になる
		}
	},
	{
		"type" : "Feature",
		"properties" : {
			"name" : "富小路広場",
			"url" : "https://www.openstreetmap.org/#map=17/35.019229/135.765492"
		},
		"geometry" :  {
			"type": "Point",
			"coordinates" : [135.765492, 35.019229]
		}
	}
];

L.geoJSON(features, {
    onEachFeature: function(feature, layer) {
    	// 位置情報のオブジェクトにURLの値があった場合
		if (feature.properties && feature.properties.url) {
			//PCでマーカーをクリック
			layer.on('click', function(ele) {
				location.href = feature.properties.url;
			});
			//スマホでマーカーをタップ
			layer.on('tap', function(ele) {
				location.href= feature.properties.url;
			});
		}
	}
}).addTo(map);
</script>
</html>
